#!/usr/bin/env lua

-- Ensure we can resolve modules when launched by launchd (cwd may not be CONFIG_DIR)
local HOME = os.getenv("HOME")
local CONFIG_DIR = HOME .. "/.config/sketchybar"

package.cpath = package.cpath .. ";/Users/scawful/.local/share/sketchybar_lua/?.so"
package.path = table.concat({
  package.path,
  CONFIG_DIR .. "/?.lua",
  CONFIG_DIR .. "/helpers/lib/?.lua",
}, ";")

package.loaded["main"] = nil
require("main")
